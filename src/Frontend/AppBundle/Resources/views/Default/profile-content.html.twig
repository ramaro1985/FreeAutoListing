   
<div id="container" class="container-fluid properties-container-profile">
    {%if property is not empty %}

        <div  class="container  fixed-margin hidden-xs">
            {{ include('AppBundle:Default:breadcrums.html.twig') }}
            <div  class="row" style="margin-top: 15px; padding-bottom: 20px;">

            </div>

            <div  class="row">
                <div class="col-md-12 col-sm-12  col-xs-12"><h1 class="property-title">{{property.description.tagline}}</h1></div>
            </div>
            <div  class="row">
                <div class="col-md-9 col-sm-12 col-xs-12">
                    <ul class="nav nav-pills nav-profile" style="margin-top: 10px; margin-bottom: 20px">
                        <div id="photos" class="anchor-profile-photo"></div> 
                        <li class="">
                            <div class="btn-group">

                                <a id="b1" href="#photos" class="btn btn-primary b1b">
                                    Photos  <span class="glyphicon glyphicon-picture glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                        <li class="">
                            <div class="btn-group">

                                <a id="b2" href="#description" class="btn btn-default b2b">
                                    Description <span class="glyphicon glyphicon-info-sign glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                        <li class="">
                            <div  class="btn-group">
                                <a id="b3" href="#amenities" class="btn btn-default b3b">
                                    Amenities <span class="glyphicon glyphicon-list glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                        <li class="">
                            <div class="btn-group">
                                <a id="b4" href="#map-location" class="btn btn-default b4b">
                                    Map <span class="glyphicon glyphicon-map-marker glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                        <li class="">
                            <div  class="btn-group">
                                <a id="b5" href="#booking-calendar"  class="btn btn-default b5b">
                                    Calendar <span class="glyphicon glyphicon-calendar glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                        <li class="">
                            <div class="btn-group">
                                <a id="b6" href="#rates"  class="btn btn-default b6b" >
                                    Rates <span class="glyphicon glyphicon-usd glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                        <li class="">
                            <div class="btn-group">
                                <a id="b7" href="#payments"  class="btn btn-default b7b" >
                                    Policies & Payments <span class="glyphicon glyphicon-credit-card glyphicon-align-right" aria-hidden="true" style="margin-left: 10px;"></span>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="col-md-3  col-xs-12 hidden-sm" style="margin-top: 23px;">
                    <div class="row">
                            <div class="col-md-3 col-xs-12"><div class="fb-like" data-href="https://www.facebook.com/homeescape" data-layout="button" data-action="like" data-show-faces="false" data-share="false"></div> </div>    
                            <div class="col-md-3 col-xs-12" style="padding-left: 5px"><div  class="fb-share-button" data-href="{{  path("property_profile", {'id': property.serie })  }}" data-layout="button"></div> </div>    
                            <div class="col-md-3 col-xs-12" style="padding-left: 5px"><a class="twitter-share-button"  href="{{  path("property_profile", {'id': property.serie })  }}"  data-via="twitterdev" data-count="none">Tweet</a></div>
                            <div class="col-md-3 col-xs-12" style="padding-left: 0px"><div class="g-plusone" data-annotation="none" data-size="medium" data-href="{{  path("property_profile", {'id': property.serie })  }}"></div></div>
                            </div>
                            
                </div>
            </div>
                            <div  class="row visible-sm" style="margin-bottom: 10px">
                            <div class="col-md-12 col-sm-6 col-xs-12 ">
                                <a id="btnbooknow1" class="btn  btn-block btn-gradient-blue" data-toggle="modal" data-target="#myModal">BOOK NOW</a>
                            </div>
                            <div class="col-md-12 col-sm-6 col-xs-12 ">
                                <a id="btncontactnow" class="btn  btn-block btn-gradient" data-toggle="modal" data-target="#myModalContact">CONTACT THE OWNER</a>
                            </div>
                            </div> 
            <div  class="row">
                <div class="col-md-9 col-sm-12 col-xs-12" >
                    <div  class="row" style="margin: 0 0 20px 0; " >
                        <div class="col-md-6 col-sm-6 col-xs-12" style="padding-left: 0;">
                            {% if property.gallery is not null %}
                                {% if property.gallery.getPropertyImages |length > 0 %}

                                    <ul class="bxslider">
                                        {% for image in property.gallery.getPropertyImages %}    
                                            {% if image.getWebPath is not null%} 
                                                <li><img src="{{ (image.getWebPath)| imagine_filter('my_thumb_large') }}" class="thumbnail-profile" alt="{{image.title}}" title="{{image.title}}"/></li>
                                                {% endif %}
                                            {% endfor %}
                                    </ul>
                                {% else %} 
                                    <img src="{{ asset('bundles/common/images/000.jpg') }}" class="thumbnail">
                                {% endif %}
                            {% else %} 
                                <img src="{{ asset('bundles/common/images/000.jpg') }}" class="thumbnail">  
                            {% endif %}







                        </div>
                        <div class="col-md-6 col-sm-6 col-xs-12" >

                            <div class="row">
                                <div class="col-md-12 col-xs-12">
                                    <ul class="list-unstyled profile-ul">
                                        {% set values = [] %}
                                        {% set values1 = [] %}
                                        {% set values2 = [] %}

                                        {% set nightly = 'Contact for Price' %}
                                        {% set weekly = 'Contact for Price' %}
                                        {% set minstay = 'Contact for Information' %}  

                                        {% if periodos | length > 0 %}
                                            {% if periodos[0] != null %}
                                                {% set nightly = periodos[0].nightly|number_format(2, '.', ',') %}
                                                {% set weekly = periodos[0].weekly|number_format(2, '.', ',') %}
                                                {% set minstay = periodos[0].minStay %}             
                                            {% endif %}    
                                            {% if periodos|length > 1 %}
                                                {% for key, period in periodos %}

                                                    {% set values = values|merge([period.nightly]) %}
                                                    {% set values1 = values1|merge([period.weekly]) %}
                                                    {% set values2 = values2|merge([period.minStay]) %}

                                                {%endfor%}
                                                {% set nightly = min(values)|number_format(2, '.', ',') %}
                                                {% set weekly =  min(values1)|number_format(2, '.', ',') %}
                                                {% set minstay =  min(values2) %}          
                                            {% endif %}    



                                        {% endif %}    
                                        <li> <div class="row"><div class="col-md-6 col-sm-6">Per night</div><div class="col-md-6 col-sm-6 text-right">From <b>${{nightly}}</b></div></div></li>
                                        <li><div class="row"><div class="col-md-6 col-sm-6">Per week</div><div class="col-md-6 col-sm-6 text-right">From <b>${{ weekly }}</b></div></div></li>
                                        <li><div class="row"><div class="col-md-6 col-sm-6">Bedrooms</div><div class="col-md-6 col-sm-6 text-right">{{ property.propertydetails.bedrooms }}</div></div></li>
                                        <li><div class="row"><div class="col-md-6 col-sm-6">Sleeps</div><div class="col-md-6 col-sm-6 text-right">{{ property.propertydetails.sleeps }}</div></div></li>
                                        <li><div class="row"><div class="col-md-6 col-sm-6">Bathrooms</div><div class="col-md-6 col-sm-6 text-right">{{ property.propertydetails.bathrooms }}</div></div></li>
                                        <li><div class="row"><div class="col-md-6 col-sm-6">Min stay (nights)</div><div class="col-md-6 col-sm-6 text-right">{{minstay}}</div></div></li>

                                    </ul>

                                </div>
                            </div>
                            <div class="row" style="margin-top: 10px">
                                <div class="col-md-4 col-xs-12 pull-left"><a id="reviewslink" href="#reviews">Reviews ({{ reviews | length}})</a></div>
                                <div class="col-md-4 col-xs-12 pull-right">
                                    <div class="exemple">
                                        <div class="basic" data-average="12" data-id="1"></div>
                                        <div class="basictemp"></div>
                                    </div>
                                </div>

                            </div>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:photoTour.html.twig') }}
                            <hr>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:description.html.twig') }}
                            <hr>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:amenities.html.twig') }}
                            <hr>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:map.html.twig') }}
                            <hr>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:calendar.html.twig') }}
                            <hr>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:rates.html.twig') }}
                            <hr>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:payments.html.twig') }}
                            <hr>
                        </div>
                    </div>

                    <div class="row reviews">
                        <div class="col-md-12 col-xs-12">
                            {{ include('AppBundle:Default:reviews-list.html.twig') }}

                        </div>
                    </div>

                </div>
                <div class="col-md-3 col-sm-12 col-xs-12 hidden-sm">
                    <div id="globalnav-nav-profile" class="pull-left" style="margin-bottom: 10px">
                        <div class="row">
                            <div class="col-md-12 col-sm-6 col-xs-12 ">
                                <a id="btnbooknow1" class="btn  btn-block btn-gradient-blue" data-toggle="modal" data-target="#myModal">BOOK NOW</a>
                            </div>
                        </div>
                    </div>

                    <div id="globalnav-nav-profile" class="pull-left" style="margin-bottom: 30px">
                        <div class="row">
                            <div class="col-md-12 col-sm-6 col-xs-12 ">
                                <a id="btncontactnow" class="btn  btn-block btn-gradient" data-toggle="modal" data-target="#myModalContact">CONTACT THE OWNER</a>
                            </div>
                        </div>  

                    </div>
                    
                    
                </div>
            </div>





        </div>


        <!-- Modal -->
        {{ include('AppBundle:Default:reservation-form.html.twig') }}
        {{ include('AppBundle:Default:contact-form.html.twig') }}
        {{ render(controller('AppBundle:Default:reviewForm')) }} 
        <div  class="container  fixed-margin visible-xs">
            <div  class="row" style="margin: 0px 5px 0 0px">
                {{ include('AppBundle:Default:breadcrums.html.twig') }}
            </div>

            <div  class="row" style="margin: 0;">
                <div class="col-md-12 col-sm-12 col-xs-12 tagline-mobile"><span class="property-title"> {{property.description.tagline}}</span></div>
            </div>
            <div  class="row" style="margin: 10px 0;">
                <div class="col-xs-6 booknow-bnt-mobile">
                    <a id="btnbooknow1" class="btn btn-default btn-block btn-gradient-blue" data-toggle="modal" data-target="#myModal">BOOK NOW</a>   
                </div>
                <div class="col-xs-6 contact-bnt-mobile">
                    <a id="btncontactnow" class="btn btn-default btn-block btn-gradient" data-toggle="modal" data-target="#myModalContact">CONTACT OWNER</a>   
                </div>

            </div>
            <div  class="row" style="margin: 0;">
                <div class="col-md-9 col-xs-12" >
                    <div  class="row" style="margin: 0 0 20px 0; " >
                        <div class="col-md-6 col-sm-6 col-xs-12" style="padding: 0;">
                            {% if property.gallery is not null %}
                                {% if property.gallery.getPropertyImages |length > 0 %}

                                    <ul class="bxslider">
                                        {% for image in property.gallery.getPropertyImages %}    
                                            <li><img src="{{ (image.getWebPath)| imagine_filter('my_thumb_large') }}" class="thumbnail" /></li>
                                            {% endfor %}
                                    </ul>
                                {% else %} 
                                    <img src="{{ asset('bundles/common/images/000.jpg') }}" class="thumbnail"> 
                                {% endif %}
                            {% else %} 
                                <img src="{{ asset('bundles/common/images/000.jpg') }}" class="thumbnail">  
                            {% endif %}







                        </div>
                        <div class="col-xs-12" >

                            <div class="row">
                                <div class="col-xs-12" style="padding: 0">
                                    <ul class="list-group">


                                        {% set values = [] %}
                                        {% set values1 = [] %}
                                        {% set values2 = [] %}

                                        {% set nightly = 'Contact for Price' %}
                                        {% set weekly = 'Contact for Price' %}
                                        {% set minstay = 'Contact for Information' %}  

                                        {% if periodos | length > 0 %}
                                            {% if periodos[0] != null %}
                                                {% set nightly = periodos[0].nightly|number_format(2, '.', ',') %}
                                                {% set weekly = periodos[0].weekly|number_format(2, '.', ',') %}
                                                {% set minstay = periodos[0].minStay %}             
                                            {% endif %}    
                                            {% if periodos|length > 1 %}
                                                {% for key, period in periodos %}

                                                    {% set values = values|merge([period.nightly]) %}
                                                    {% set values1 = values1|merge([period.weekly]) %}
                                                    {% set values2 = values2|merge([period.minStay]) %}

                                                {%endfor%}
                                                {% set nightly = min(values)|number_format(2, '.', ',') %}
                                                {% set weekly =  min(values1)|number_format(2, '.', ',') %}
                                                {% set minstay =  min(values2) %}          
                                            {% endif %}    



                                        {% endif %}    

                                        <li class="list-group-item"><div class="row"><div class="col-xs-6">Per night</div><div class="col-xs-6 text-right">From <b>${{nightly}}</b></div></div></li>
                                        <li class="list-group-item"><div class="row"><div class="col-xs-6">Per week</div><div class="col-xs-6 text-right">From <b>${{ weekly }}</b></div></div></li>
                                        <li class="list-group-item"><div class="row"><div class="col-xs-6">Bedrooms</div><div class="col-xs-6 text-right">{{ property.propertydetails.bedrooms }}</div></div></li>
                                        <li class="list-group-item"><div class="row"><div class="col-xs-6">Sleeps</div><div class="col-xs-6 text-right">{{ property.propertydetails.sleeps }}</div></div></li>
                                        <li class="list-group-item"><div class="row"><div class="col-xs-6">Bathrooms</div><div class="col-xs-6 text-right">{{ property.propertydetails.bathrooms }}</div></div></li>
                                        <li class="list-group-item"><div class="row"><div class="col-xs-6">Min stay(nights)</div><div class="col-xs-6 text-right">{{minstay}}</div></div></li>


                                    </ul>

                                </div>
                            </div>


                            <div class="row">
                                <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingOne">
                                            <h4 class="panel-title">
                                                <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                                                    Photos<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>

                                            </h4>
                                        </div>
                                        <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:photoTour.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingTwo">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                                                    Description<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:description.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingThree">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                                    Amenities<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:amenities.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingFour">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                                                    Map<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>

                                        </div>
                                        <div id="collapseFour" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFour">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:map-mobile.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingFive">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                                                    Calendar<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseFive" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingFive">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:calendar-mobile.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingSix">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                                                    Rates<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseSix" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSix">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:rates-mobile.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingSeven">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseSeven" aria-expanded="false" aria-controls="collapseSeven">
                                                    Policies & Payments<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapseSeven" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingSeven">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:payments.html.twig') }}
                                            </div>
                                        </div>
                                    </div>

                                    <div class="panel panel-default">
                                        <div class="panel-heading" role="tab" id="headingSeven">
                                            <h4 class="panel-title">
                                                <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse8" aria-expanded="false" aria-controls="collapse8">
                                                    Reviews<span class="glyphicon glyphicon-chevron-down pull-right" style="color: #428bca"></span>
                                                </a>
                                            </h4>
                                        </div>
                                        <div id="collapse8" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading8">
                                            <div class="panel-body">
                                                {{ include('AppBundle:Default:reviews-list.html.twig') }}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>


                        </div>
                    </div>



                </div>

            </div>





        </div>


    {% else %} 
        <div  class="row"  style="margin: 10px 0 20px 0">
            <div  class="row"  style="margin: 10px 0 20px 0">
                <div class="row" style="margin: 20px 10px 0 ">
                    <div class="col-xs-12 col-md-12">
                        <div class="alert alert-info"><span class="glyphicon glyphicon-info-sign" style="margin-right: 15px;  top: 3px;"></span> This property does not exist</div>
                    </div>
                </div>


            {% endif %}
        </div>


    </div>
</div>
        
<script src="https://www.google.com/recaptcha/api.js?onload=myCallBack&render=explicit" async defer></script>
<script type="text/javascript">

            jQuery(document).ajaxStart(function() {
    jQuery(".loading").removeClass('hide');
    });
            jQuery(document).ajaxStop(function() {
    jQuery(".loading").addClass('hide');
    });
    
    
      var recaptcha;
      var recaptcha1;
      var recaptcha2;
      var myCallBack = function() {
        //Render the recaptcha1 on the element with ID "recaptcha1"
        recaptcha = grecaptcha.render('recaptcha', {
          'sitekey' : '6LeJ-AUTAAAAAGWNsGGBHzFeYHZWWQDTUHkzkjaX', //Replace this with your Site key
          'theme' : 'light'
        });
        
        //Render the recaptcha2 on the element with ID "recaptcha2"
        recaptcha1 = grecaptcha.render('recaptcha1', {
          'sitekey' : '6LeJ-AUTAAAAAGWNsGGBHzFeYHZWWQDTUHkzkjaX', //Replace this with your Site key
          'theme' : 'light'
        });
        
         //Render the recaptcha2 on the element with ID "recaptcha2"
        recaptcha2 = grecaptcha.render('recaptcha2', {
          'sitekey' : '6LeJ-AUTAAAAAGWNsGGBHzFeYHZWWQDTUHkzkjaX', //Replace this with your Site key
          'theme' : 'light'
        });
      };
      
      
      
              jQuery('#myModal').on('hide.bs.modal', function (e) {
    jQuery('.reservation-form').find('input , select, textarea').each(function(){
    jQuery(this).popover('destroy');
    });
    grecaptcha.reset(recaptcha);
    });
            jQuery('#myModalContact').on('hide.bs.modal', function (e) {
    jQuery('.inquiry-form').find('input , select, textarea').each(function(){
    jQuery(this).popover('destroy');
    });
    grecaptcha.reset(recaptcha1);
    });
    
               jQuery('#myModalReview').on('hide.bs.modal', function (e) {
    jQuery('.review-form').find('input , select, textarea').each(function(){
    jQuery(this).popover('destroy');
    });
    jQuery('.basictemp1 .jRatingAverage').css('width','0');
    jQuery('#review_valoration').val('0');
    grecaptcha.reset(recaptcha2);
    });
    
    
    function resetForm(){
    jQuery('.inquiry-form').find('input, textarea').val('');
            jQuery('.inquiry-form').find('#inquiry_adults').val("");
            jQuery('.inquiry-form').find('#inquiry_children').val("");
            grecaptcha.reset(recaptcha);
    }

    function resetFormBook(){
    jQuery('.reservation-form').find('input, textarea').val('');
            jQuery('.reservation-form').find('#reservationFront_adults').val('');
            jQuery('.reservation-form').find('#reservationFront_children').val('');
            jQuery('.reservation-form').find('#reservationFront_checkinhour').val('');
            jQuery('.reservation-form').find('#reservationFront_checkouthour').val('');
            jQuery('#error').html("");
            grecaptcha.reset(recaptcha1);
    }
    
    
        function resetFormReview(){
            jQuery('.review-form').find('input, textarea').val('');
            jQuery('#error').html("");
            grecaptcha.reset(recaptcha2);
            jQuery('.basictemp1 .jRatingAverage').css('width','0');
            jQuery('#review_valoration').val('0');
        }
    
            jQuery(document).ready(function() {
                
    

            jQuery('.bxslider').bxSlider({
    pagerCustom: '#bx-pager'
    });
            jQuery('.nav-profile a').each(function(){
    jQuery(this).click(function(){
    jQuery('.nav-profile a').removeClass('btn-primary');
            jQuery('.nav-profile1 a').removeClass('btn-primary');
            jQuery('.nav-profile a').addClass('btn-default');
            jQuery('.nav-profile1 a').addClass('btn-default')

            jQuery(this).addClass('btn-primary');
            jQuery('.nav-profile1 a#' + jQuery(this).attr("id") + 'b').addClass('btn-primary');
            jQuery(this).removeClass('btn-default');
            jQuery('.nav-profile1 a#' + jQuery(this).attr("id") + 'b').removeClass('btn-default');
    });
    });
            jQuery('.nav-profile1 a').each(function(){
    jQuery(this).click(function(){
    jQuery('.nav-profile1 a').removeClass('btn-primary');
            jQuery('.nav-profile a').removeClass('btn-primary');
            jQuery('.nav-profile1 a').addClass('btn-default');
            jQuery('.nav-profile a').addClass('btn-default')

            jQuery(this).addClass('btn-primary');
            jQuery('.nav-profile a.' + jQuery(this).attr("id")).addClass('btn-primary');
            jQuery(this).removeClass('btn-default');
            jQuery('.nav-profile a.' + jQuery(this).attr("id")).removeClass('btn-default');
    });
    });
            jQuery('.basic').jRating({
    isDisabled:true,
            nbRates : 0,
            sendRequest: false,
            rateMax : 5

    });
            jQuery('.basictemp').attr("data-average",{{rating}} ).attr("data-id", 1);
            jQuery('.basic').remove();
            jQuery('.basictemp').jRating({
            isDisabled:true,
            nbRates : 0,
            sendRequest: false,
            rateMax : 5,
            showRateInfo: true,
            bigStarsPath : '../../bundles/common/css/icons/stars.png', // path of the icon stars.png
            smallStarsPath : '../../bundles/common/css/icons/small.png', // path of the icon small.png

    });
            jQuery('#btninquirysave').click(function(e){
    validateForm();
    });
    
    jQuery('.create-review').click(function(e){
    validateFormReview();
    });
            jQuery(document).ajaxStart(function() {
    jQuery("#loading-page").show();
    });
            jQuery(document).ajaxComplete(function() {
    jQuery("#loading-page").hide();
    });
            jQuery.ajax({
            url: '{{path('photo_tour')}}',
                    type: "POST",
                    data: { id : {{property.id}}},
                    async: false,
                    success: function(response){
                    jQuery('.content-info').html(response);
                    }
            });
     

    jQuery('.inquiry-form').find('input , select, textarea').each(function(){
    jQuery(this).focusout(function(){
    jQuery(this).popover('destroy');
    });
    });
            

    jQuery('.reservation-form').find('input , select, textarea').each(function(){
    jQuery(this).focusout(function(){
    jQuery(this).popover('destroy');
    });
    });
            jQuery('.reservation-form').find('input , select, textarea').each(function(){
    jQuery(this).keydown(function(){
    jQuery(this).popover('destroy');
    });
    });
            jQuery('.inquiry-form').find('input , select, textarea').each(function(){
    jQuery(this).keydown(function(){
    jQuery(this).popover('destroy');
    });
    });
    
     jQuery('.review-form').find('input , select, textarea').each(function(){
    jQuery(this).keydown(function(){
    jQuery(this).popover('destroy');
    });
    });
    
    
            jQuery('#reservationFront_checkOut').focusin(function(){
    jQuery('#reservationFront_checkIn').popover('destroy');
    });
    
         




    

    jQuery(function() {
    jQuery('#datepick-mobile').datepicker({minDate: new Date(), beforeShowDay: showBooked,
            onSelect: function(dateStr, obj) {
            var date = jQuery(this).datepicker('getDate');
                    var settings = showBooked(date);
                    if (settings[1] == 'free') {
            jQuery('#reservationFront_checkIn').val(dateStr);
                    jQuery('#reservationFront_checkOut').val(dateStr);
                    showForm(dateStr);
            }
            else {
            //bookedDates = jQuery.
            //(bookedDates, function(d, i) {
            //return d.getTime() == date.getTime() ? null : this; // Remove booking
            //});
            // alert('booked day');
            }
            }
    });
    });
    
          
            
         
            jQuery('.book').click(function (){
    validateFormBook();
    });
       

    jQuery('#inquiry_startDate').click(function(){
    jQuery("#ui-datepicker-div").css("z-index", 2000);
    });
            jQuery('#inquiry_endDate').click(function(){
    jQuery("#ui-datepicker-div").css("z-index", 2000);
    });
            jQuery('#reservationFront_checkIn').click(function(){
    jQuery("#ui-datepicker-div").css("z-index", 2000);
    });
            jQuery('#reservationFront_checkOut').click(function(){
    jQuery("#ui-datepicker-div").css("z-index", 2000);
    });
    
               jQuery('#review_stayDate').click(function(){
    jQuery("#ui-datepicker-div").css("z-index", 2000);
    });
            jQuery('#login').click(function(e){
    e.preventDefault();
    });
         
            jQuery(function() {
            jQuery('#datepick-year').datepicker({numberOfMonths: 12, minDate: new Date(), beforeShowDay: showBooked,
                    onSelect: function(dateStr, obj) {
                    var date = jQuery(this).datepicker('getDate');
                            var settings = showBooked(date);
                            if (settings[1] == 'free' || settings[1] == 'tentative') {

                    jQuery('#reservationFront_checkIn').val(dateStr);
                            jQuery('#reservationFront_checkOut').val(dateStr);
                            showForm(dateStr);
                    }
                    else {
                    //bookedDates = jQuery.map(bookedDates, function(d, i) {
                    //return d.getTime() == date.getTime() ? null : this; // Remove booking
                    //});
                    alert('booked day');
                    }
                    }
            });
            });
            function showForm(date){
            jQuery('#myModal').modal('show');
            }
            
            
           

    });
    
    
    function submitFormBook(){
    
  

    jQuery.ajax({
    statusCode: {
    500: function() {
    enableFormBook();
            jQuery('#error').html("<span class='glyphicon glyphicon-warning-sign' style='margin-right:15px;color:#d9534f'></span><span class='text-danger'>The property is reserved on this date range</span>");
    },
            401: function() {
            enableFormBook();
                    jQuery('#error').html("<span class='glyphicon glyphicon-warning-sign' style='margin-right:15px;color:#d9534f'></span><span class='text-danger'>There was an error, Try again</span>");
            }
    },
            url: '{{ path('create_reservation') }}',
            type: "POST",
            data: {  id : {{property.id}} ,
                    firstName: jQuery('#reservationFront_firstName').val(),
                    lastName: jQuery('#reservationFront_lastName').val(),
                    checkIn: jQuery('#reservationFront_checkIn').val(),
                    checkOut: jQuery('#reservationFront_checkOut').val(),
                    checkinhour: jQuery('#reservationFront_checkinhour').val(),
                    checkouthour: jQuery('#reservationFront_checkouthour').val(),
                    adults: jQuery('#reservationFront_adults').val(),
                    children: jQuery('#reservationFront_children').val(),
                    email: jQuery('#reservationFront_email').val(),
                    phone: jQuery('#reservationFront_phone').val(),
                    mobile: jQuery('#reservationFront_mobile').val()

            },
            async: false,
            success: function(response){

               jQuery.ajax({
                type: "POST",
                url: 'https://app.mobilestorm.com/cp/manageforms/addSubscriber.php',
                data: {
                    email: jQuery('#reservationFront_email').val(),
                    formID: jQuery('.reservation-form #formIDr').val(),
                    weburl: jQuery('.reservation-form #weburlr').val(),
                    isDedicatedClient: jQuery('.reservation-form #isDedicatedClientr').val(),
                    sourcecode: jQuery('.reservation-form #sourcecoder').val()
                },
                async: false,
                success: function (data) {
                }
                });
                
            jQuery.ajax({
            url: '{{path('AcmeHomeBundle_ajax_update_mydata')}}',
                    type: "POST",
                    dataType: 'json',
                    data: { id : {{property.id}} },
                    async: false,
                    success: function(response){

                    bookedDatesAux = response[0];
                            inquiriesDatesAux = response[1];
                            for (var i = 0; i < bookedDatesAux.length; i++){
                    bookedDates.push(bookedDatesAux[i]);
                    }

                    for (var i = 0; i < inquiriesDatesAux.length; i++){
                    inquiriesDates.push(inquiriesDatesAux[i]);
                    }


                    }
            });
                    jQuery('#datepick-year').datepicker("refresh");
                    jQuery('#myModal').modal('hide');
                    resetFormBook();
                    enableFormBook();
            }
    });
    }
    
    
    function submitFormReview(){

    jQuery.ajax({
    statusCode: {
            500: function() {
            enableFormReview();
            jQuery('#review-error').html("<span class='glyphicon glyphicon-warning-sign' style='margin-right:15px;color:#d9534f'></span><span class='text-danger'>There was an error, Try again</span>");
            }
    },
            url: '{{ path('create_review') }}',
            type: "POST",
            data: { id : {{property.id}} ,
                    name: jQuery('#review_guest').val(),
                    title: jQuery('#review_title').val(),
                    email: jQuery('#review_email').val(),
                    date: jQuery('#review_stayDate').val(),
                    text: jQuery('#review_description').val(),
                    valoration: jQuery('#review_valoration').val()

            },
            async: false,
            success: function(response){
                    jQuery('#myModalReview').modal('hide');
                    resetFormReview();
                    enableFormReview();
            }
    });
    }
    
       function disableForm(){
            jQuery('.inquiry-form').find('input , select, button, textarea').attr('disabled', 'disabled')
                    jQuery(".inquiry-form").css("opacity", 0.37);
            }

    function disableFormBook(){
    jQuery('.reservation-form').find('input , select, button, textarea .book .close-btn').attr('disabled', 'disabled')
            jQuery(".reservation-form").css("opacity", 0.37);
    }
    
       function disableFormReview(){
    jQuery('.review-form').find('input , select, button, textarea .create-review .close-btn').attr('disabled', 'disabled')
            jQuery(".review-form").css("opacity", 0.37);
    }

    

    function enableForm(){
    jQuery('.inquiry-form').find('input , select, button, textarea').removeAttr('disabled')
            jQuery(".inquiry-form").css("opacity", 1);
             grecaptcha.reset(recaptcha);
    }
    function enableFormBook(){
    jQuery('.reservation-form').find('input , select, button, textarea .book .close-btn').removeAttr('disabled')
            jQuery(".reservation-form").css("opacity", 1);
             grecaptcha.reset(recaptcha1);
    }
    
       function enableFormReview(){
    jQuery('.review-form').find('input , select, button, textarea .create-review .close-btn').removeAttr('disabled')
    jQuery(".review-form").css("opacity", 1);
     grecaptcha.reset(recaptcha2);
    }
    
    
           function createPopover(elem, text){
            elem.attr('data-toggle', 'popover');
                    elem.attr('data-placement', 'bottom');
                    elem.attr('data-content', text);
                    elem.attr('data-container', 'body');
                    elem.popover();
                    elem.trigger('click');
                    elem.focus();
            }
    
    var bookedDates = [];
            var inquiriesDates = [];
            var bookedDatesAux = [];
            var inquiriesDatesAux = [];
            jQuery(function() {
            jQuery.ajax({
            url: '{{path('AcmeHomeBundle_ajax_update_mydata')}}',
                    type: "POST",
                    dataType: 'json',
                    data: { id : {{property.id}} },
                    async: false,
                    success: function(response){

                    bookedDatesAux = response[0];
                            inquiriesDatesAux = response[1];
                            for (var i = 0; i < bookedDatesAux.length; i++){
                    bookedDates.push(bookedDatesAux[i]);
                    }

                    for (var i = 0; i < inquiriesDatesAux.length; i++){
                    inquiriesDates.push(inquiriesDatesAux[i]);
                    }

                    //jQuery('.calendar1').show();
                    //jQuery('#loading-page').hide()
                    }
            });
            });
     
      
      
         function showBooked(date) {//new Date(bookedDates[0]*1000).toDateString()

            var year = date.getFullYear();
                    var month = date.getMonth();
                    var day = date.getDate();
                    //var strtime = date.toLocaleDateString();
                    //alert( bookedDates[0]);

                    for (var i = 0; i < bookedDates.length; i++) {
            //alert(bookedDates[i]);
            for (var j = 0; j < bookedDates[i].length; j++) {
            if (month + 1 + '/' + day + '/' + year == bookedDates[i][j]) {

            return [false, 'booked'];
            }
            }
            }

            for (var i = 0; i < inquiriesDates.length; i++) {
            //alert(bookedDates[i]);
            for (var j = 0; j < inquiriesDates[i].length; j++) {
            if (month + 1 + '/' + day + '/' + year == inquiriesDates[i][j]) {

            return [true, 'tentative'];
            }
            }
            }

            return [true, 'free'];
            }
    
    
    function checkLength(o, min, max) {
            if (o.val().length < min) {
            createPopover(o, 'Please fill out this field');
                    return false;
            } else {
            return true;
            }
            }


    function checkRegexp(o, regexp) {
    if (!(regexp.test(o.val()))) {
    createPopover(o, 'Invalid field');
            return false;
    } else {
    return true;
    }
    }


    function checkSelected(o) {
    if (o.val() == "") {
    createPopover(o, 'Please fill out this field');
            return false;
    } else {
    return true;
    }
    }

    function checkSelectedInq(o) {
    if (o.val() == "") {
    createPopover(o, 'Please fill out this field');
            return false;
    } else {
    return true;
    }
    }

    function checkDate(o, u) {
    if (u.val() !== '' && o.val() !== ''){
    if (u.val() <= o.val()) {
    createPopover(u, 'Invalid Date');
            return false;
    } else {
    return true;
    }
    } else  if (u.val() !== '' && o.val() === ''){
    createPopover(o, 'Please fill out this field');
            return false;
    } else  if (o.val() !== '' && u.val() === ''){
    createPopover(u, 'Please fill out this field');
            return false;
    } else  if (o.val() === '' && u.val() === ''){
    return true;
    }
    }

    function submitForm(){
        
        
         

    jQuery.ajax({
    statusCode: {
    401: function() {
    enableForm();
            jQuery('#errorContact').html("<span class='glyphicon glyphicon-warning-sign' style='margin-right:15px;color:#d9534f'></span><span class='text-danger'>The email couldnt be sent, please try again</span>");
    }
    },
            url: '{{ path('create_inquiry') }}',
            type: "POST",
            data: {  id : {{property.id}} ,
                    firstName: jQuery('#inquiry_guest').val(),
                    lastName: jQuery('#inquiry_lastName').val(),
                    checkIn: jQuery('#inquiry_startDate').val(),
                    checkOut: jQuery('#inquiry_endDate').val(),
                    adults: jQuery('#inquiry_adults').val(),
                    children: jQuery('#inquiry_children').val(),
                    email: jQuery('#inquiry_email').val(),
                    phone: jQuery('#inquiry_phone').val(),
                    text: jQuery('#inquiry_text').val()


            },
            async: false,
            success: function(response){
                 jQuery.ajax({
                type: "POST",
                url: 'https://app.mobilestorm.com/cp/manageforms/addSubscriber.php',
                data: {
                    email: jQuery('#inquiry_email').val(),
                    formID: jQuery('.inquiry-form #formID').val(),
                    weburl: jQuery('.inquiry-form #weburl').val(),
                    isDedicatedClient: jQuery('.inquiry-form #isDedicatedClient').val(),
                    sourcecode: jQuery('.inquiry-form #sourcecode').val()
                },
                async: false,
                success: function (data) {
                }
                });
                
                
            jQuery('#myModalContact').modal('hide');
                    resetForm();
                    enableForm();
                    
              
            
            }
    });
    
    
    
    
    }


    
    
    

    function  validateRecaptcha(form){

    var data_2;
            jQuery.ajax({
                    type: "POST",
                    url: '{{ path('validate_captcha') }}',
                    data: form.serialize(),
                    async:false,
                    success: function(data) {
                        var response = JSON.parse(data);
                          if(response.nocaptcha ==="true"){
                    data_2=1;
                    }else if(response.spam ==="true")
                      {
                    data_2=1;
                      }
                    else
                      {
                    data_2=0;
                      }
                 
                    }
                    
             
            });
            
                    if(data_2!=0){
              //e.preventDefault();
              if(data_2==1){
                alert("Please check the captcha");
                return false;
              }else{
                alert("Please Don't spam");
                return false;
              }
            }else
              {
                return true;
              }
            
    }

    function validateForm(){
    var bValid = true;
            bValid = bValid && checkLength(jQuery('#inquiry_guest'), 2, 100);
            bValid = bValid && checkLength(jQuery('#inquiry_lastName'), 2, 100);
            bValid = bValid && checkLength(jQuery('#inquiry_email'), 4, 100);
            bValid = bValid && checkRegexp(jQuery('#inquiry_email'), /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
            bValid = bValid && checkDate(jQuery('#inquiry_startDate'), jQuery('#inquiry_endDate'));
            //bValid = bValid && checkSelectedInq(jQuery('#inquiry_adults'));
            bValid = bValid && checkLength(jQuery('#inquiry_text'), 2, 250);
            bValid = bValid && validateRecaptcha(jQuery('.inquiry-form'));
            if (bValid){
            disableForm();
            submitForm();
    }

    }

    function validateFormBook(){
    var bValid = true;
            bValid = bValid && checkLength(jQuery('#reservationFront_firstName'), 2, 100);
            bValid = bValid && checkLength(jQuery('#reservationFront_lastName'), 2, 100);
            bValid = bValid && checkLength(jQuery('#reservationFront_email'), 4, 100);
            bValid = bValid && checkRegexp(jQuery('#reservationFront_email'), /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
            bValid = bValid && checkLength(jQuery('#reservationFront_checkIn'), 10, 10);
            bValid = bValid && checkLength(jQuery('#reservationFront_checkOut'), 10, 10);
            bValid = bValid && checkDate(jQuery('#reservationFront_checkIn'), jQuery('#reservationFront_checkOut'));
            bValid = bValid && checkValidRange(jQuery('#reservationFront_checkIn'), jQuery('#reservationFront_checkOut'));
            bValid = bValid && checkSelected(jQuery('#reservationFront_checkinhour'));
            bValid = bValid && checkSelected(jQuery('#reservationFront_checkouthour'));
            bValid = bValid && validateRecaptcha(jQuery('.reservation-form'));
            if (bValid){
            disableFormBook();
            submitFormBook();
    }

    }
    
    
      function validateFormReview(){
            var bValid = true;
            bValid = bValid && checkLength(jQuery('#review_guest'), 2, 100);
            bValid = bValid && checkLength(jQuery('#review_email'), 4, 100);
            bValid = bValid && checkRegexp(jQuery('#review_email'), /^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
            bValid = bValid && checkLength(jQuery('#review_title'), 2, 200);
            bValid = bValid && checkLength(jQuery('#review_description'), 2, 1000);
            bValid = bValid && validateRecaptcha(jQuery('.review-form'));
            if (bValid){
            disableFormReview();
            submitFormReview();
    }

    }

    function checkValidRange(checkin, checkout){
    var inday = new Date(checkin.val()).getDate();
            var inmonth = new Date(checkin.val()).getMonth() + 1;
            var inyear = new Date(checkin.val()).getFullYear();
            var outday = new Date(checkout.val()).getDate();
            var outmonth = new Date(checkout.val()).getMonth() + 1;
            var outyear = new Date(checkout.val()).getFullYear();
            //var strtime = date.toLocaleDateString();
            //alert( bookedDates[0]);
            for (var i = 0; i < bookedDates.length; i++) {
    //alert(bookedDates[i]);
    for (var j = 0; j < bookedDates[i].length; j++) {
    if (new Date(bookedDates[i][j]) >= new Date(inmonth + '/' + inday + '/' + inyear) && new Date(bookedDates[i][j]) <= new Date(outmonth + '/' + outday + '/' + outyear)) {
    createPopover(checkin, 'Invalid date');
            createPopover(checkout, 'Invalid date');
            return false;
    }
    }
    }

    return true;
    }

    if (jQuery( window ).width() > '768'){
            jQuery(window).scroll(function(){
    if (jQuery(this).scrollTop() > 600) {
    jQuery('#header').slideUp(200);
            jQuery('#header-top1').removeClass('hide');
            jQuery('#header-top1').slideDown();
    } else {
    jQuery('#header').slideDown(200);
            jQuery('#header-top1').addClass('hide');
            jQuery('#header-top1').slideUp();
    }
    });
    }

</script>






