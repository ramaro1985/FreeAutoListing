(function(d){"function"===typeof define&&define.amd?define(["jquery"],d):d(jQuery)})(function(d,u){function r(){return new Date(Date.UTC.apply(Date,arguments))}function w(){var a=new Date;return r(a.getFullYear(),a.getMonth(),a.getDate())}function A(a){return function(){return this[a].apply(this,arguments)}}function D(a,b){function c(a,b){return b.toLowerCase()}var g=d(a).data(),e={},h,f=new RegExp("^"+b.toLowerCase()+"([A-Z])");b=new RegExp("^"+b.toLowerCase());for(var k in g)b.test(k)&&(h=k.replace(f,
c),e[h]=g[k]);return e}function E(a){var b={};if(!p[a]&&(a=a.split("-")[0],!p[a]))return;var c=p[a];d.each(F,function(a,d){d in c&&(b[d]=c[d])});return b}var B=function(){var a={get:function(a){return this.slice(a)[0]},contains:function(a){a=a&&a.valueOf();for(var c=0,d=this.length;c<d;c++)if(this[c].valueOf()===a)return c;return-1},remove:function(a){this.splice(a,1)},replace:function(a){a&&(d.isArray(a)||(a=[a]),this.clear(),this.push.apply(this,a))},clear:function(){this.length=0},copy:function(){var a=
new B;a.replace(this);return a}};return function(){var b=[];b.push.apply(b,arguments);d.extend(b,a);return b}}(),v=function(a,b){this._process_options(b);this.dates=new B;this.viewDate=this.o.defaultViewDate;this.focusDate=null;this.element=d(a);this.isInline=!1;this.isInput=this.element.is("input");this.hasInput=(this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1)&&this.element.find("input").length;this.component&&0===this.component.length&&(this.component=
!1);this.picker=d(l.template);this._buildEvents();this._attachEvents();this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu");this.o.rtl&&this.picker.addClass("datepicker-rtl");this.viewMode=this.o.startView;this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(a,b){return parseInt(b)+1});this._allow_update=!1;this.setStartDate(this._o.startDate);this.setEndDate(this._o.endDate);
this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled);this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted);this.setDatesDisabled(this.o.datesDisabled);this.fillDow();this.fillMonths();this._allow_update=!0;this.update();this.showMode();this.isInline&&this.show()};v.prototype={constructor:v,_process_options:function(a){this._o=d.extend({},this._o,a);var b=this.o=d.extend({},this._o);a=b.language;p[a]||(a=a.split("-")[0],p[a]||(a=z.language));b.language=a;switch(b.startView){case 2:case "decade":b.startView=
2;break;case 1:case "year":b.startView=1;break;default:b.startView=0}switch(b.minViewMode){case 1:case "months":b.minViewMode=1;break;case 2:case "years":b.minViewMode=2;break;default:b.minViewMode=0}switch(b.maxViewMode){case 0:case "days":b.maxViewMode=0;break;case 1:case "months":b.maxViewMode=1;break;default:b.maxViewMode=2}b.startView=Math.min(b.startView,b.maxViewMode);b.startView=Math.max(b.startView,b.minViewMode);!0!==b.multidate&&(b.multidate=Number(b.multidate)||!1,!1!==b.multidate&&(b.multidate=
Math.max(0,b.multidate)));b.multidateSeparator=String(b.multidateSeparator);b.weekStart%=7;b.weekEnd=(b.weekStart+6)%7;var c=l.parseFormat(b.format);-Infinity!==b.startDate&&(b.startDate=b.startDate?b.startDate instanceof Date?this._local_to_utc(this._zero_time(b.startDate)):l.parseDate(b.startDate,c,b.language):-Infinity);Infinity!==b.endDate&&(b.endDate=b.endDate?b.endDate instanceof Date?this._local_to_utc(this._zero_time(b.endDate)):l.parseDate(b.endDate,c,b.language):Infinity);b.daysOfWeekDisabled=
b.daysOfWeekDisabled||[];d.isArray(b.daysOfWeekDisabled)||(b.daysOfWeekDisabled=b.daysOfWeekDisabled.split(/[,\s]*/));b.daysOfWeekDisabled=d.map(b.daysOfWeekDisabled,function(a){return parseInt(a,10)});b.daysOfWeekHighlighted=b.daysOfWeekHighlighted||[];d.isArray(b.daysOfWeekHighlighted)||(b.daysOfWeekHighlighted=b.daysOfWeekHighlighted.split(/[,\s]*/));b.daysOfWeekHighlighted=d.map(b.daysOfWeekHighlighted,function(a){return parseInt(a,10)});b.datesDisabled=b.datesDisabled||[];d.isArray(b.datesDisabled)||
(a=[],a.push(l.parseDate(b.datesDisabled,c,b.language)),b.datesDisabled=a);b.datesDisabled=d.map(b.datesDisabled,function(a){return l.parseDate(a,c,b.language)});a=String(b.orientation).toLowerCase().split(/\s+/g);var g=b.orientation.toLowerCase();a=d.grep(a,function(a){return/^auto|left|right|top|bottom$/.test(a)});b.orientation={x:"auto",y:"auto"};if(g&&"auto"!==g)if(1===a.length)switch(a[0]){case "top":case "bottom":b.orientation.y=a[0];break;case "left":case "right":b.orientation.x=a[0]}else g=
d.grep(a,function(a){return/^left|right$/.test(a)}),b.orientation.x=g[0]||"auto",g=d.grep(a,function(a){return/^top|bottom$/.test(a)}),b.orientation.y=g[0]||"auto";b.defaultViewDate?(a=b.defaultViewDate.year||(new Date).getFullYear(),b.defaultViewDate=r(a,b.defaultViewDate.month||0,b.defaultViewDate.day||1)):b.defaultViewDate=w();b.showOnFocus=b.showOnFocus!==u?b.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(a){for(var b=0,c,d,e;b<a.length;b++)c=a[b][0],2===a[b].length?(d=u,
e=a[b][1]):3===a[b].length&&(d=a[b][1],e=a[b][2]),c.on(e,d)},_unapplyEvents:function(a){for(var b=0,c,d,e;b<a.length;b++)c=a[b][0],2===a[b].length?(e=u,d=a[b][1]):3===a[b].length&&(e=a[b][1],d=a[b][2]),c.off(d,e)},_buildEvents:function(){var a={keyup:d.proxy(function(a){-1===d.inArray(a.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:d.proxy(this.keydown,this),paste:d.proxy(this.paste,this)};!0===this.o.showOnFocus&&(a.focus=d.proxy(this.show,this));this.isInput?this._events=[[this.element,
a]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),a],[this.component,{click:d.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:d.proxy(this.show,this)}]];this._events.push([this.element,"*",{blur:d.proxy(function(a){this._focused_from=a.target},this)}],[this.element,{blur:d.proxy(function(a){this._focused_from=a.target},this)}]);this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":d.proxy(function(a){this.update(a.date)},
this)}]);this._secondaryEvents=[[this.picker,{click:d.proxy(this.click,this)}],[d(window),{resize:d.proxy(this.place,this)}],[d(document),{mousedown:d.proxy(function(a){this.element.is(a.target)||this.element.find(a.target).length||this.picker.is(a.target)||this.picker.find(a.target).length||d(this.picker).hide()},this)}]]},_attachEvents:function(){this._detachEvents();this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents();
this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,b){var c=b||this.dates.get(-1),c=this._utc_to_local(c);this.element.trigger({type:a,date:c,dates:d.map(this.dates,this._utc_to_local),format:d.proxy(function(a,b){0===arguments.length?(a=this.dates.length-1,b=this.o.format):"string"===typeof a&&(b=a,a=this.dates.length-1);b=b||this.o.format;var c=this.dates.get(a);return l.formatDate(c,b,this.o.language)},this)})},
show:function(){if(!this.element.attr("readonly")||!1!==this.o.enableOnReadonly)return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&d(this.element).blur(),this},hide:function(){if(this.isInline||!this.picker.is(":visible"))return this;this.focusDate=null;this.picker.hide().detach();this._detachSecondaryEvents();this.viewMode=
this.o.startView;this.showMode();this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue();this._trigger("hide");return this},remove:function(){this.hide();this._detachEvents();this._detachSecondaryEvents();this.picker.remove();delete this.element.data().datepicker1;this.isInput||delete this.element.data().date;return this},paste:function(a){var b;if(a.originalEvent.clipboardData&&a.originalEvent.clipboardData.types&&-1!==d.inArray("text/plain",
a.originalEvent.clipboardData.types))b=a.originalEvent.clipboardData.getData("text/plain");else if(window.clipboardData)b=window.clipboardData.getData("Text");else return;this.setDate(b);this.update();a.preventDefault()},_utc_to_local:function(a){return a&&new Date(a.getTime()+6E4*a.getTimezoneOffset())},_local_to_utc:function(a){return a&&new Date(a.getTime()-6E4*a.getTimezoneOffset())},_zero_time:function(a){return a&&new Date(a.getFullYear(),a.getMonth(),a.getDate())},_zero_utc_time:function(a){return a&&
new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate()))},getDates:function(){return d.map(this.dates,this._utc_to_local)},getUTCDates:function(){return d.map(this.dates,function(a){return new Date(a)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var a=this.dates.get(-1);return"undefined"!==typeof a?new Date(a):null},clearDates:function(){var a;this.isInput?a=this.element:this.component&&(a=this.element.find("input"));a&&a.val("");this.update();
this._trigger("changeDate");this.o.autoclose&&this.hide()},setDates:function(){var a=d.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,a);this._trigger("changeDate");this.setValue();return this},setUTCDates:function(){var a=d.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,d.map(a,this._utc_to_local));this._trigger("changeDate");this.setValue();return this},setDate:A("setDates"),setUTCDate:A("setUTCDates"),setValue:function(){var a=this.getFormattedDate();this.isInput?
this.element.val(a):this.component&&this.element.find("input").val(a);return this},getFormattedDate:function(a){a===u&&(a=this.o.format);var b=this.o.language;return d.map(this.dates,function(c){return l.formatDate(c,a,b)}).join(this.o.multidateSeparator)},setStartDate:function(a){this._process_options({startDate:a});this.update();this.updateNavArrows();return this},setEndDate:function(a){this._process_options({endDate:a});this.update();this.updateNavArrows();return this},setDaysOfWeekDisabled:function(a){this._process_options({daysOfWeekDisabled:a});
this.update();this.updateNavArrows();return this},setDaysOfWeekHighlighted:function(a){this._process_options({daysOfWeekHighlighted:a});this.update();return this},setDatesDisabled:function(a){this._process_options({datesDisabled:a});this.update();this.updateNavArrows()},place:function(){if(this.isInline)return this;var a=this.picker.outerWidth(),b=this.picker.outerHeight(),c=d(this.o.container),g=c.width(),e=c.height(),h=c.scrollTop(),f=c.offset(),k=[];this.element.parents().each(function(){var a=
d(this).css("z-index");"auto"!==a&&0!==a&&k.push(parseInt(a))});var c=Math.max.apply(Math,k)+10,l=this.component?this.component.parent().offset():this.element.offset(),m=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),n=l.left-f.left,f=l.top-f.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left");"auto"!==this.o.orientation.x?
(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(n-=a-p)):0>l.left?(this.picker.addClass("datepicker-orient-left"),n-=l.left-10):n+a>g?(this.picker.addClass("datepicker-orient-right"),n=l.left+p-a):this.picker.addClass("datepicker-orient-left");a=this.o.orientation.y;"auto"===a&&(e=h+e-(f+m+b),a=Math.max(-h+f-b,e)===e?"top":"bottom");this.picker.addClass("datepicker-orient-"+a);f="top"===a?f+m:f-(b+parseInt(this.picker.css("padding-top")));this.o.rtl?
this.picker.css({top:f,right:g-(n+p),zIndex:c}):this.picker.css({top:f,left:n,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var a=this.dates.copy(),b=[],c=!1;arguments.length?(d.each(arguments,d.proxy(function(a,c){c instanceof Date&&(c=this._local_to_utc(c));b.push(c)},this)),c=!0):(b=(b=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val())&&this.o.multidate?b.split(this.o.multidateSeparator):[b],delete this.element.data().date);
b=d.map(b,d.proxy(function(a){return l.parseDate(a,this.o.format,this.o.language)},this));b=d.grep(b,d.proxy(function(a){return a<this.o.startDate||a>this.o.endDate||!a},this),!0);this.dates.replace(b);this.viewDate=this.dates.length?new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?new Date(this.o.startDate):this.viewDate>this.o.endDate?new Date(this.o.endDate):this.o.defaultViewDate;c?this.setValue():b.length&&String(a)!==String(this.dates)&&this._trigger("changeDate");!this.dates.length&&
a.length&&this._trigger("clearDate");this.fill();this.element.change();return this},fillDow:function(){var a=this.o.weekStart,b="<tr>";this.o.calendarWeeks&&(this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(a,b){return parseInt(b)+1}),b+='<th class="cw">&#160;</th>');for(;a<this.o.weekStart+7;)b+='<th class="dow">'+p[this.o.language].daysMin[a++%7]+"</th>";b+="</tr>";this.picker.find(".datepicker-days thead").append(b)},fillMonths:function(){for(var a=
"",b=0;12>b;)a+='<span class="month">'+p[this.o.language].monthsShort[b++]+"</span>";this.picker.find(".datepicker-months td").html(a)},setRange:function(a){a&&a.length?this.range=d.map(a,function(a){return a.valueOf()}):delete this.range;this.fill()},getClassNames:function(a){var b=[],c=this.viewDate.getUTCFullYear(),g=this.viewDate.getUTCMonth(),e=new Date;a.getUTCFullYear()<c||a.getUTCFullYear()===c&&a.getUTCMonth()<g?b.push("old"):(a.getUTCFullYear()>c||a.getUTCFullYear()===c&&a.getUTCMonth()>
g)&&b.push("new");this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&b.push("focused");this.o.todayHighlight&&a.getUTCFullYear()===e.getFullYear()&&a.getUTCMonth()===e.getMonth()&&a.getUTCDate()===e.getDate()&&b.push("today");-1!==this.dates.contains(a)&&b.push("active");(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==d.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&b.push("disabled");(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==d.inArray(a.getUTCDay(),
this.o.daysOfWeekHighlighted))&&b.push("highlighted");0<this.o.datesDisabled.length&&0<d.grep(this.o.datesDisabled,function(b){return a.getUTCFullYear()===b.getUTCFullYear()&&a.getUTCMonth()===b.getUTCMonth()&&a.getUTCDate()===b.getUTCDate()}).length&&b.push("disabled","disabled-date");this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&b.push("range"),-1!==d.inArray(a.valueOf(),this.range)&&b.push("selected"));return b},fill:function(){var a=new Date(this.viewDate),b=a.getUTCFullYear(),
c=a.getUTCMonth(),a=-Infinity!==this.o.startDate?this.o.startDate.getUTCFullYear():-Infinity,g=-Infinity!==this.o.startDate?this.o.startDate.getUTCMonth():-Infinity,e=Infinity!==this.o.endDate?this.o.endDate.getUTCFullYear():Infinity,h=Infinity!==this.o.endDate?this.o.endDate.getUTCMonth():Infinity,f=p[this.o.language].today||p.en.today||"",k=p[this.o.language].clear||p.en.clear||"",t;if(!isNaN(b)&&!isNaN(c)){this.picker.find(".datepicker-days thead .datepicker-switch").text(p[this.o.language].months[c]+
" "+(2>this.o.maxViewMode?"":b));this.picker.find("tfoot .today").text(f).toggle(!1!==this.o.todayBtn);this.picker.find("tfoot .clear").text(k).toggle(!1!==this.o.clearBtn);this.updateNavArrows();this.fillMonths();f=r(b,c-1,28);c=l.getDaysInMonth(f.getUTCFullYear(),f.getUTCMonth());f.setUTCDate(c);f.setUTCDate(c-(f.getUTCDay()-this.o.weekStart+7)%7);k=new Date(f);k.setUTCDate(k.getUTCDate()+42);for(var k=k.valueOf(),c=[],m;f.valueOf()<k;){if(f.getUTCDay()===this.o.weekStart&&(c.push("<tr>"),this.o.calendarWeeks)){m=
new Date(+f+(this.o.weekStart-f.getUTCDay()-7)%7*864E5);m=new Date(Number(m)+(11-m.getUTCDay())%7*864E5);var q=new Date(Number(q=r(m.getUTCFullYear(),0,1))+(11-q.getUTCDay())%7*864E5);c.push('<td class="cw">'+((m-q)/864E5/7+1)+"</td>")}m=this.getClassNames(f);m.push("day");if(this.o.beforeShowDay!==d.noop){var n=this.o.beforeShowDay(this._utc_to_local(f));n===u?n={}:"boolean"===typeof n?n={enabled:n}:"string"===typeof n&&(n={classes:n});!1===n.enabled&&m.push("disabled");n.classes&&(m=m.concat(n.classes.split(/\s+/)));
n.tooltip&&(t=n.tooltip)}m=d.unique(m);c.push('<td class="'+m.join(" ")+'"'+(t?' title="'+t+'"':"")+">"+f.getUTCDate()+"</td>");t=null;f.getUTCDay()===this.o.weekEnd&&c.push("</tr>");f.setUTCDate(f.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(c.join(""));var x=this.picker.find(".datepicker-months").find("th:eq(1)").text(2>this.o.maxViewMode?"Months":b).end().find("span").removeClass("active");d.each(this.dates,function(a,c){c.getUTCFullYear()===b&&x.eq(c.getUTCMonth()).addClass("active")});
(b<a||b>e)&&x.addClass("disabled");b===a&&x.slice(0,g).addClass("disabled");b===e&&x.slice(h+1).addClass("disabled");if(this.o.beforeShowMonth!==d.noop){var G=this;d.each(x,function(a,c){d(c).hasClass("disabled")||!1===G.o.beforeShowMonth(new Date(b,a,1))&&d(c).addClass("disabled")})}c="";b=10*parseInt(b/10,10);t=this.picker.find(".datepicker-years").find("th:eq(1)").text(b+"-"+(b+9)).end().find("td");--b;q=d.map(this.dates,function(a){return a.getUTCFullYear()});for(h=-1;11>h;h++)g=["year"],-1===
h?g.push("old"):10===h&&g.push("new"),-1!==d.inArray(b,q)&&g.push("active"),(b<a||b>e)&&g.push("disabled"),c+='<span class="'+g.join(" ")+'">'+b+"</span>",b+=1;t.html(c)}},updateNavArrows:function(){if(this._allow_update){var a=new Date(this.viewDate),b=a.getUTCFullYear(),a=a.getUTCMonth();switch(this.viewMode){case 0:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()&&a<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"});
Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()&&a>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:-Infinity!==this.o.startDate&&b<=this.o.startDate.getUTCFullYear()||2>this.o.maxViewMode?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),Infinity!==this.o.endDate&&b>=this.o.endDate.getUTCFullYear()||2>this.o.maxViewMode?
this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault();a.stopPropagation();a=d(a.target).closest("span, td, th");var b,c,g;if(1===a.length)switch(a[0].nodeName.toLowerCase()){case "th":switch(a[0].className){case "datepicker-switch":this.showMode(1);break;case "prev":case "next":a=l.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,
a);this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,a),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case "today":a=new Date;a=r(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0);this.showMode(-2);this._setDate(a,"linked"===this.o.todayBtn?null:"view");break;case "clear":this.clearDates()}break;case "span":a.hasClass("disabled")||(this.viewDate.setUTCDate(1),a.hasClass("month")?(g=1,c=a.parent().find("span").index(a),
b=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(c),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(r(b,c,g)),this.showMode()):this.showMode(-1)):(g=1,c=0,b=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(b),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(r(b,c,g)),this.showMode(-1)),this.fill());break;case "td":a.hasClass("day")&&!a.hasClass("disabled")&&(g=parseInt(a.text(),10)||1,b=this.viewDate.getUTCFullYear(),c=
this.viewDate.getUTCMonth(),a.hasClass("old")?0===c?(c=11,--b):--c:a.hasClass("new")&&(11===c?(c=0,b+=1):c+=1),this._setDate(r(b,c,g)))}this.picker.is(":visible")&&this._focused_from&&d(this._focused_from).focus();delete this._focused_from},_toggle_multidate:function(a){var b=this.dates.contains(a);a||this.dates.clear();-1!==b?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(b):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(a));if("number"===typeof this.o.multidate)for(;this.dates.length>
this.o.multidate;)this.dates.remove(0)},_setDate:function(a,b){b&&"date"!==b||this._toggle_multidate(a&&new Date(a));b&&"view"!==b||(this.viewDate=a&&new Date(a));this.fill();this.setValue();b&&"view"===b||this._trigger("changeDate");var c;this.isInput?c=this.element:this.component&&(c=this.element.find("input"));c&&c.change();!this.o.autoclose||b&&"date"!==b||this.hide()},moveMonth:function(a,b){if(!a)return u;if(!b)return a;var c=new Date(a.valueOf()),d=c.getUTCDate(),e=c.getUTCMonth(),h=Math.abs(b),
f;b=0<b?1:-1;if(1===h){if(h=-1===b?function(){return c.getUTCMonth()===e}:function(){return c.getUTCMonth()!==f},f=e+b,c.setUTCMonth(f),0>f||11<f)f=(f+12)%12}else{for(var k=0;k<h;k++)c=this.moveMonth(c,b);f=c.getUTCMonth();c.setUTCDate(d);h=function(){return f!==c.getUTCMonth()}}for(;h();)c.setUTCDate(--d),c.setUTCMonth(f);return c},moveYear:function(a,b){return this.moveMonth(a,12*b)},dateWithinRange:function(a){return a>=this.o.startDate&&a<=this.o.endDate},keydown:function(a){if(this.picker.is(":visible")){var b=
!1,c,d,e=this.focusDate||this.viewDate;switch(a.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide();a.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;c=37===a.keyCode?-1:1;a.ctrlKey?(this.moveYear(this.dates.get(-1)||w(),c),d=this.moveYear(e,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(this.moveMonth(this.dates.get(-1)||w(),c),d=this.moveMonth(e,c),this._trigger("changeMonth",this.viewDate)):
(d=new Date(this.dates.get(-1)||w()),d.setUTCDate(d.getUTCDate()+c),d=new Date(e),d.setUTCDate(e.getUTCDate()+c));this.dateWithinRange(d)&&(this.focusDate=this.viewDate=d,this.setValue(),this.fill(),a.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;c=38===a.keyCode?-1:1;a.ctrlKey?(this.moveYear(this.dates.get(-1)||w(),c),d=this.moveYear(e,c),this._trigger("changeYear",this.viewDate)):a.shiftKey?(this.moveMonth(this.dates.get(-1)||w(),c),d=this.moveMonth(e,c),this._trigger("changeMonth",
this.viewDate)):(d=new Date(this.dates.get(-1)||w()),d.setUTCDate(d.getUTCDate()+7*c),d=new Date(e),d.setUTCDate(e.getUTCDate()+7*c));this.dateWithinRange(d)&&(this.focusDate=this.viewDate=d,this.setValue(),this.fill(),a.preventDefault());break;case 13:e=this.focusDate||this.dates.get(-1)||this.viewDate;this.o.keyboardNavigation&&(this._toggle_multidate(e),b=!0);this.focusDate=null;this.viewDate=this.dates.get(-1)||this.viewDate;this.setValue();this.fill();this.picker.is(":visible")&&(a.preventDefault(),
"function"===typeof a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(b){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var h;this.isInput?h=this.element:this.component&&(h=this.element.find("input"));h&&h.change()}}else 40!==a.keyCode&&27!==a.keyCode||this.show()},showMode:function(a){a&&(this.viewMode=Math.max(this.o.minViewMode,
Math.min(this.o.maxViewMode,this.viewMode+a)));this.picker.children("div").hide().filter(".datepicker-"+l.modes[this.viewMode].clsName).css("display","block");this.updateNavArrows()}};var C=function(a,b){this.element=d(a);this.inputs=d.map(b.inputs,function(a){return a.jquery?a[0]:a});delete b.inputs;y.call(d(this.inputs),b).on("changeDate",d.proxy(this.dateUpdated,this));this.pickers=d.map(this.inputs,function(a){return d(a).data("datepicker")});this.updateDates()};C.prototype={updateDates:function(){this.dates=
d.map(this.pickers,function(a){return a.getUTCDate()});this.updateRanges()},updateRanges:function(){var a=d.map(this.dates,function(a){return a.valueOf()});d.each(this.pickers,function(b,c){c.setRange(a)})},dateUpdated:function(a){if(!this.updating){this.updating=!0;var b=d(a.target).data("datepicker").getUTCDate();a=d.inArray(a.target,this.inputs);var c=a-1,g=a+1,e=this.inputs.length;if(-1!==a){d.each(this.pickers,function(a,c){c.getUTCDate()||c.setUTCDate(b)});if(b<this.dates[c])for(;0<=c&&b<this.dates[c];)this.pickers[c--].setUTCDate(b);
else if(b>this.dates[g])for(;g<e&&b>this.dates[g];)this.pickers[g++].setUTCDate(b);this.updateDates();delete this.updating}}},remove:function(){d.map(this.pickers,function(a){a.remove()});delete this.element.data().datepicker1}};var H=d.fn.datepicker1,y=function(a){var b=Array.apply(null,arguments);b.shift();var c;this.each(function(){var g=d(this),e=g.data("datepicker"),h="object"===typeof a&&a;if(!e){var e=D(this,"date"),f=d.extend({},z,e,h),f=E(f.language),h=d.extend({},z,f,e,h);g.hasClass("input-daterange")||
h.inputs?(e={inputs:h.inputs||g.find("input").toArray()},g.data("datepicker",e=new C(this,d.extend(h,e)))):g.data("datepicker",e=new v(this,h))}if("string"===typeof a&&"function"===typeof e[a]&&(c=e[a].apply(e,b),c!==u))return!1});return c!==u?c:this};d.fn.datepicker1=y;var z=d.fn.datepicker1.defaults={autoclose:!1,beforeShowDay:d.noop,beforeShowMonth:d.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:Infinity,forceParse:!0,
format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:2,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body",immediateUpdates:!1},F=d.fn.datepicker1.locale_opts=["format","rtl","weekStart"];d.fn.datepicker1.Constructor=v;var p=d.fn.datepicker1.dates={en:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),
daysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),daysMin:"Su Mo Tu We Th Fr Sa".split(" "),months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),today:"Today",clear:"Clear"}},l={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(a){return 0===a%4&&0!==a%100||0===
a%400},getDaysInMonth:function(a,b){return[31,l.isLeapYear(a)?29:28,31,30,31,30,31,31,30,31,30,31][b]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(a){var b=a.replace(this.validParts,"\x00").split("\x00");a=a.match(this.validParts);if(!b||!b.length||!a||0===a.length)throw Error("Invalid date format.");return{separators:b,parts:a}},parseDate:function(a,b,c){function g(){var a=this.slice(0,h[k].length),b=h[k].slice(0,a.length);
return a.toLowerCase()===b.toLowerCase()}if(!a)return u;if(a instanceof Date)return a;"string"===typeof b&&(b=l.parseFormat(b));var e=/([\-+]\d+)([dmwy])/,h=a.match(/([\-+]\d+)([dmwy])/g),f,k;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(a)){a=new Date;for(k=0;k<h.length;k++)switch(b=e.exec(h[k]),f=parseInt(b[1]),b[2]){case "d":a.setUTCDate(a.getUTCDate()+f);break;case "m":a=v.prototype.moveMonth.call(v.prototype,a,f);break;case "w":a.setUTCDate(a.getUTCDate()+7*f);break;case "y":a=v.prototype.moveYear.call(v.prototype,
a,f)}return r(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),0,0,0)}h=a&&a.match(this.nonpunctuation)||[];a=new Date;var e={},t="yyyy yy M MM m mm d dd".split(" ");f={yyyy:function(a,b){return a.setUTCFullYear(b)},yy:function(a,b){return a.setUTCFullYear(2E3+b)},m:function(a,b){if(isNaN(a))return a;for(--b;0>b;)b+=12;b%=12;for(a.setUTCMonth(b);a.getUTCMonth()!==b;)a.setUTCDate(a.getUTCDate()-1);return a},d:function(a,b){return a.setUTCDate(b)}};var m;f.M=f.MM=f.mm=f.m;f.dd=f.d;a=r(a.getFullYear(),
a.getMonth(),a.getDate(),0,0,0);var q=b.parts.slice();h.length!==q.length&&(q=d(q).filter(function(a,b){return-1!==d.inArray(b,t)}).toArray());if(h.length===q.length){var n;k=0;for(n=q.length;k<n;k++){m=parseInt(h[k],10);b=q[k];if(isNaN(m))switch(b){case "MM":m=d(p[c].months).filter(g);m=d.inArray(m[0],p[c].months)+1;break;case "M":m=d(p[c].monthsShort).filter(g),m=d.inArray(m[0],p[c].monthsShort)+1}e[b]=m}for(k=0;k<t.length;k++)b=t[k],b in e&&!isNaN(e[b])&&(c=new Date(a),f[b](c,e[b]),isNaN(c)||(a=
c))}return a},formatDate:function(a,b,c){if(!a)return"";"string"===typeof b&&(b=l.parseFormat(b));c={d:a.getUTCDate(),D:p[c].daysShort[a.getUTCDay()],DD:p[c].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:p[c].monthsShort[a.getUTCMonth()],MM:p[c].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};c.dd=(10>c.d?"0":"")+c.d;c.mm=(10>c.m?"0":"")+c.m;a=[];for(var g=d.extend([],b.separators),e=0,h=b.parts.length;e<=h;e++)g.length&&a.push(g.shift()),a.push(c[b.parts[e]]);
return a.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};l.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+l.headTemplate+"<tbody></tbody>"+l.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+
l.headTemplate+l.contTemplate+l.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+l.headTemplate+l.contTemplate+l.footTemplate+"</table></div></div>";d.fn.datepicker1.DPGlobal=l;d.fn.datepicker1.noConflict=function(){d.fn.datepicker1=H;return this};d.fn.datepicker1.version="1.4.1-dev";d(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var b=d(this);b.data("datepicker")||(a.preventDefault(),y.call(b,
"show"))});d(function(){y.call(d('[data-provide="datepicker-inline"]'))})});